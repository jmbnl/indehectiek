"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2411],{2411:(B,y,a)=>{a.r(y),a.d(y,{Tab1PageModule:()=>R});var l=a(3582),b=a(6814),T=a(95),Z=a(3554),p=a(5714),c=a(5861),g=a(1273),e=a(9468),I=a(4414),x=a(9862);let P=(()=>{var o;class r{constructor(t){this.http=t,this.quotes=null}loadQuotes(){var t=this;return(0,c.Z)(function*(){if(t.quotes)return t.quotes;const n=yield t.http.get("assets/quotes.json").toPromise();return t.quotes=null!=n?n:[],t.quotes})()}getRandomQuote(t){var n=this;return(0,c.Z)(function*(){const s=yield n.loadQuotes();if(!s.length)return null;let u=s[Math.floor(Math.random()*s.length)];if(t&&s.length>1){let d=5;for(;u.text===t.text&&d-- >0;)u=s[Math.floor(Math.random()*s.length)]}return u})()}getDailyQuote(){var t=this;return(0,c.Z)(function*(){const n=(new Date).toISOString().slice(0,10),s=yield g.u.get({key:"dailyQuote"});if(s.value){const d=JSON.parse(s.value);if(d.date===n)return d.quote}const u=yield t.getRandomQuote();return u&&(yield g.u.set({key:"dailyQuote",value:JSON.stringify({date:n,quote:u})})),u})()}}return(o=r).\u0275fac=function(t){return new(t||o)(e.LFG(x.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),r})();var C=a(2848),k=a(6973),S=a(305);let w=(()=>{var o;class r{constructor(t){this.http=t,this.sourceUrl="assets/mindfulness_exercises.json",this.exercises=[],this.loaded=!1,this.lastServedId=null}setSourceUrl(t){this.sourceUrl=t,this.loaded=!1,this.exercises=[],this.lastServedId=null}ensureLoaded(){var t=this;return(0,c.Z)(function*(){if(!t.loaded)try{const n=yield function O(o,r){const i="object"==typeof r;return new Promise((t,n)=>{const s=new S.Hp({next:u=>{t(u),s.unsubscribe()},error:n,complete:()=>{i?t(r.defaultValue):n(new k.K)}});o.subscribe(s)})}(t.http.get(t.sourceUrl));t.exercises=Array.isArray(n)?n:[]}catch(n){console.error("ExercisesService: kon oefeningen niet laden:",n),t.exercises=[]}finally{t.loaded=!0}})()}getAll(){var t=this;return(0,c.Z)(function*(){return yield t.ensureLoaded(),t.exercises})()}getRandomExercise(t){var n=this;return(0,c.Z)(function*(){var s,u,d;if(yield n.ensureLoaded(),0===n.exercises.length)return null;const h="string"==typeof t?t:null==t?void 0:t.id,f=null!==(s=null!=h?h:n.lastServedId)&&void 0!==s?s:null,m=f?n.exercises.filter(z=>z.id!==f):n.exercises.slice(),_=m.length>0?m:n.exercises,v=null!==(u=_[Math.floor(Math.random()*_.length)])&&void 0!==u?u:null;return n.lastServedId=null!==(d=null==v?void 0:v.id)&&void 0!==d?d:null,v})()}getById(t){var n=this;return(0,c.Z)(function*(){return yield n.ensureLoaded(),n.exercises.find(s=>s.id===t)})()}}return(o=r).\u0275fac=function(t){return new(t||o)(e.LFG(x.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),r})();var M=a(5697);function q(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"blockquote"),e._uU(2),e.qZA(),e.TgZ(3,"div",7),e._uU(4),e.qZA(),e.BQk()),2&o){const i=r.ngIf;e.xp6(2),e.hij("\u201c",i.text,"\u201d"),e.xp6(2),e.hij("\u2014 ",i.author||"Onbekend","")}}function A(o,r){1&o&&e._UZ(0,"ion-spinner")}function Q(o,r){if(1&o&&(e.TgZ(0,"ion-item")(1,"ion-label",12),e._uU(2),e.qZA()()),2&o){const i=r.$implicit;e.xp6(2),e.hij("\u2022 ",i,"")}}function D(o,r){if(1&o){const i=e.EpF();e.TgZ(0,"div",13),e._UZ(1,"ion-progress-bar",14),e.TgZ(2,"div",15),e._uU(3),e.qZA(),e.TgZ(4,"ion-button",16),e.NdJ("click",function(){e.CHM(i);const n=e.oxw(2);return e.KtG(n.stopTimer(!0))}),e._uU(5," Stop "),e.qZA()()}if(2&o){const i=e.oxw(2);e.xp6(1),e.Q6J("value",i.progress),e.xp6(2),e.hij("Resterend: ",i.format(i.remaining),"")}}function N(o,r){1&o&&(e.TgZ(0,"div",15),e._uU(1," Klaar \u2705 \u2013 goed gedaan! "),e.qZA())}function U(o,r){if(1&o&&(e.TgZ(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e._uU(3),e.qZA(),e.TgZ(4,"ion-card-subtitle"),e._uU(5),e.qZA()(),e.TgZ(6,"ion-card-content")(7,"ion-list",8),e.YNc(8,Q,3,1,"ion-item",9),e.qZA(),e.YNc(9,D,6,2,"div",10),e.YNc(10,N,2,0,"div",11),e.qZA()()),2&o){const i=r.ngIf,t=e.oxw();e.xp6(3),e.Oqu(i.title),e.xp6(2),e.hij("Duur: ",t.format(t.total),""),e.xp6(3),e.Q6J("ngForOf",i.script),e.xp6(1),e.Q6J("ngIf",t.isRunning),e.xp6(1),e.Q6J("ngIf",!t.isRunning&&t.total>0&&0===t.remaining)}}function F(o,r){if(1&o){const i=e.EpF();e.TgZ(0,"ion-button",17),e.NdJ("click",function(){e.CHM(i);const n=e.oxw();return e.KtG(n.promptInstall())}),e._uU(1," \u{1f4f2} Installeer deze app "),e.qZA()}}const Y=function(){return["/tabs/tab2"]},E=[{path:"",component:(()=>{var o;class r{constructor(t,n,s,u,d,h,f,m){this.toastController=t,this.cdr=n,this.router=s,this.http=u,this.quotes=d,this.DataService=h,this.exercisesService=f,this.metrics=m,this.greeting="",this.Category="",this.deferredPrompt=null,this.showInstallButton=!1,this.quote=null,this.exercise=null,this.remaining=0,this.total=0,this.isRunning=!1,this.timerId=null}ngOnInit(){console.log("\u{1f680} Tab1 geladen...");const t=(new Date).getHours();this.greeting=t<12?"Goedemorgen":t<18?"Goedemiddag":"Goedenavond",this.getName(),this.isiOS()&&!this.isStandalone()?this.presentInstallInstructionToast():this.setupBeforeInstallPrompt()}ionViewWillEnter(){this.initAsync()}initAsync(){var t=this;return(0,c.Z)(function*(){try{t.quote=yield t.quotes.getDailyQuote()}catch(n){console.error("Kon dagelijkse quote niet laden",n),t.quote={text:"\u2014",author:"Onbekend"}}})()}refreshQuote(){var t=this;return(0,c.Z)(function*(){var n;t.quote=yield t.quotes.getRandomQuote(null!==(n=t.quote)&&void 0!==n?n:void 0)})()}showRandomExercise(){var t=this;return(0,c.Z)(function*(){var n;t.stopTimer(),t.metrics.hit("Random Exercise"),t.exercise=yield t.exercisesService.getRandomExercise(null!==(n=t.exercise)&&void 0!==n?n:void 0),t.exercise?(t.total=Number(t.exercise.duration_seconds||60),t.remaining=t.total,t.isRunning=!0,t.timerId=setInterval(()=>{t.remaining--,t.remaining<=0&&t.stopTimer()},1e3)):console.warn("Geen oefeningen beschikbaar (controleer assets/mindfulness_exercises.json).")})()}stopTimer(t=!1){this.timerId&&(clearInterval(this.timerId),this.timerId=null),this.remaining<0&&(this.remaining=0),this.isRunning=!1,t&&(this.exercise=null,this.total=0,this.remaining=0)}get progress(){return this.total?(this.total-this.remaining)/this.total:0}format(t){return`${Math.floor(t/60)}:${(t%60).toString().padStart(2,"0")}`}getName(){var t=this;return(0,c.Z)(function*(){const{value:n}=yield g.u.get({key:"name"});n&&(t.Category=n,t.DataService.changeCategory(t.Category),t.cdr.detectChanges(),console.log("\u{1f4cc} Opgehaalde Category uit Preferences:",t.Category))})()}setName(){var t=this;return(0,c.Z)(function*(){console.log("\u2705 Tab1: Opslaan van nieuwe Category:",t.Category),yield g.u.set({key:"name",value:t.Category}),t.DataService.changeCategory(t.Category)})()}removeName(){var t=this;return(0,c.Z)(function*(){yield g.u.remove({key:"name"}),t.Category="",t.DataService.changeCategory(""),t.cdr.detectChanges(),console.log("\u{1f5d1}\ufe0f Category verwijderd.")})()}setDefaultGroup(){this.Category="1230",g.u.set({key:"name",value:this.Category}),this.DataService.changeCategory(this.Category),this.cdr.detectChanges(),this.router.navigate(["/tabs/tab2"],{replaceUrl:!0})}setupBeforeInstallPrompt(){window.addEventListener("beforeinstallprompt",t=>{console.log("\u{1f525} beforeinstallprompt event gedetecteerd:",t),t.preventDefault(),this.deferredPrompt=t,this.showInstallButton=!0,this.presentInstallToast()})}presentInstallInstructionToast(){var t=this;return(0,c.Z)(function*(){console.log("\u{1f4e2} iOS-installatiemelding wordt getoond..."),yield(yield t.toastController.create({message:'Installeer deze webapp op je iPhone: tik op de "Deel"-knop en kies "Zet op beginscherm".',duration:8e3,position:"bottom",cssClass:"custom-toast",buttons:[{side:"start",icon:"share-outline",handler:()=>console.log("\u{1f4e2} iOS instructie geklikt")},{text:"\u2716",role:"cancel",handler:()=>console.log("\u274c iOS-melding gesloten")}]})).present()})()}presentInstallToast(){var t=this;return(0,c.Z)(function*(){console.log("\u{1f4e2} Android-installatie-melding wordt getoond..."),yield(yield t.toastController.create({message:"Je kunt deze app installeren op je telefoon!",duration:5e3,position:"bottom",cssClass:"custom-toast",buttons:[{text:"Installeren",handler:()=>t.promptInstall()}]})).present()})()}promptInstall(){if(this.deferredPrompt){console.log("\u{1f6e0} Installatie prompt wordt direct aangeroepen...");const t=this.deferredPrompt;this.deferredPrompt=null,t.prompt(),t.userChoice.then(n=>{console.log("\u{1f4cc} Installatie keuze:",n.outcome),this.showInstallButton=!1})}else console.log("\u26a0\ufe0f Geen deferredPrompt beschikbaar.")}isiOS(){return/iPhone|iPad|iPod/.test(navigator.userAgent)}isStandalone(){return"standalone"in window.navigator&&window.navigator.standalone}}return(o=r).\u0275fac=function(t){return new(t||o)(e.Y36(I.yF),e.Y36(e.sBO),e.Y36(p.F0),e.Y36(x.eN),e.Y36(P),e.Y36(C.D),e.Y36(w),e.Y36(M.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-tab1"]],decls:27,vars:8,consts:[[1,"ion-padding","no-header",2,"text-align","center",3,"fullscreen"],[4,"ngIf","ngIfElse"],["loading",""],[1,"surprise-btn",3,"click"],[4,"ngIf"],["name","caret-forward-outline",2,"font-size","34px","color","#0930FF",3,"routerLink","click"],[3,"click",4,"ngIf"],[1,"author"],["lines","none"],[4,"ngFor","ngForOf"],["style","margin-top:10px",4,"ngIf"],["style","margin-top:6px",4,"ngIf"],[1,"ion-text-wrap"],[2,"margin-top","10px"],[3,"value"],[2,"margin-top","6px"],["fill","clear","color","medium","size","small",3,"click"],[3,"click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"ion-content",0),e._UZ(1,"br")(2,"br")(3,"br")(4,"br")(5,"br"),e.TgZ(6,"h2"),e._uU(7),e.qZA(),e._UZ(8,"br")(9,"br")(10,"br"),e.TgZ(11,"h3")(12,"i"),e.YNc(13,q,5,2,"ng-container",1),e.YNc(14,A,1,0,"ng-template",null,2,e.W1O),e.qZA()(),e._UZ(16,"br")(17,"br")(18,"br"),e.TgZ(19,"ion-button",3),e.NdJ("click",function(){return n.showRandomExercise()}),e._uU(20," \u{1f3b2} Verrassing (mini-oefening)\n"),e.qZA(),e.YNc(21,U,11,5,"ion-card",4),e._UZ(22,"br")(23,"br")(24,"br"),e.TgZ(25,"ion-icon",5),e.NdJ("click",function(){return n.setDefaultGroup()}),e.qZA(),e.YNc(26,F,2,0,"ion-button",6),e.qZA()),2&t){const s=e.MAs(15);e.Q6J("fullscreen",!0),e.xp6(7),e.Oqu(n.greeting),e.xp6(6),e.Q6J("ngIf",n.quote)("ngIfElse",s),e.xp6(8),e.Q6J("ngIf",n.exercise),e.xp6(4),e.Q6J("routerLink",e.DdM(7,Y)),e.xp6(1),e.Q6J("ngIf",n.showInstallButton)}},dependencies:[l.YG,l.PM,l.FN,l.Zi,l.tO,l.Dq,l.W2,l.gu,l.Ie,l.Q$,l.q_,l.X7,l.PQ,l.YI,b.sg,b.O5,p.rH],styles:["img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:15px}.myButton[_ngcontent-%COMP%]{width:32%;font-size:larger}.card-title[_ngcontent-%COMP%]{padding-top:2%;font-size:xx-large;font-weight:700}.card-sub[_ngcontent-%COMP%]{padding-top:2%;font-size:small}.card-score[_ngcontent-%COMP%]{padding-top:2%;padding-bottom:6%;font-size:small}.custom-button-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}[_ngcontent-%COMP%]:root{--mint-accent: #2dd4bf}.surprise-btn[_ngcontent-%COMP%]{--background: var(--mint-accent);--background-activated: color-mix(in oklab, var(--mint-accent), black 10%);--background-focused: color-mix(in oklab, var(--mint-accent), white 10%);--color: #073b3a;--border-radius: 999px;--padding-start: 18px;--padding-end: 18px;font-weight:600;box-shadow:0 6px 16px #0000001f;margin:8px auto 0;display:inline-flex}.timer[_ngcontent-%COMP%]{margin-top:12px}.countdown[_ngcontent-%COMP%]{margin-top:6px;font-variant-numeric:tabular-nums}ion-progress-bar[_ngcontent-%COMP%]{--height: 10px;border-radius:8px;overflow:hidden}blockquote[_ngcontent-%COMP%]{margin:0;font-style:italic;line-height:1.4}.author[_ngcontent-%COMP%]{margin-top:6px;opacity:.7}"]}),r})()}];let J=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.Bz.forChild(E),p.Bz]}),r})(),R=(()=>{var o;class r{}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[l.Pc,b.ez,T.u5,Z.e,J]}),r})()}}]);